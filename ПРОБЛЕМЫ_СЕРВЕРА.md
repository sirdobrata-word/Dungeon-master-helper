# üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º —Å–µ—Ä–≤–µ—Ä–∞

## üöÄ –ë—ã—Å—Ç—Ä–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

–ó–∞–ø—É—Å—Ç–∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç:
```bash
# Windows CMD
diagnose-server.bat

# Windows PowerShell
.\diagnose-server.ps1
```

---

## ‚ùå –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞ 1: "Go –Ω–µ –Ω–∞–π–¥–µ–Ω"

**–°–∏–º–ø—Ç–æ–º—ã:**
- `go: command not found`
- `'go' is not recognized as an internal or external command`

**–†–µ—à–µ–Ω–∏–µ:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏ Go: https://golang.org/dl/
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª
3. –ü—Ä–æ–≤–µ—Ä—å: `go version`

---

### –ü—Ä–æ–±–ª–µ–º–∞ 2: "go.mod file not found"

**–°–∏–º–ø—Ç–æ–º—ã:**
- `go: go.mod file not found in current directory`
- –û—à–∏–±–∫–∞ –ø—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
2. –ü—Ä–æ–≤–µ—Ä—å –Ω–∞–ª–∏—á–∏–µ `go.mod`:
   ```bash
   dir go.mod
   ```
3. –ï—Å–ª–∏ –Ω–µ—Ç - –ø–µ—Ä–µ–π–¥–∏ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:
   ```bash
   cd "C:\Users\ALFA\OneDrive\–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª\—Ç–∏—à–∏–Ω–∞"
   ```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 3: "cannot find package"

**–°–∏–º–ø—Ç–æ–º—ã:**
- `cannot find package "dice-service/internal/..."`
- –û—à–∏–±–∫–∏ –∏–º–ø–æ—Ä—Ç–∞

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
go mod download

# –ü—Ä–æ–≤–µ—Ä—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
go mod verify

# –û–±–Ω–æ–≤–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
go mod tidy
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 4: "bind: address already in use"

**–°–∏–º–ø—Ç–æ–º—ã:**
- –ü–æ—Ä—Ç 9190 –∑–∞–Ω—è—Ç
- –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
```powershell
# –ù–∞–π–¥–∏ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É 9190
Get-NetTCPConnection -LocalPort 9190

# –ó–∞–∫—Ä–æ–π –ø—Ä–æ—Ü–µ—Å—Å
Get-NetTCPConnection -LocalPort 9190 | Select-Object -ExpandProperty OwningProcess | ForEach-Object { Stop-Process -Id $_ -Force }

# –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç
$env:PORT="3000"; go run cmd/server/main.go
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 5: "The system cannot find the path specified"

**–°–∏–º–ø—Ç–æ–º—ã:**
- –û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å–∫—Ä–∏–ø—Ç–∞
- –§–∞–π–ª—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Å—å, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—â–µ–Ω –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞
2. –ü—Ä–æ–≤–µ—Ä—å —Ç–µ–∫—É—â—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:
   ```bash
   cd
   ```
3. –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `C:\Users\ALFA\OneDrive\–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª\—Ç–∏—à–∏–Ω–∞`

---

### –ü—Ä–æ–±–ª–µ–º–∞ 6: –û—à–∏–±–∫–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

**–°–∏–º–ø—Ç–æ–º—ã:**
- `syntax error`
- `undefined: ...`
- –û—à–∏–±–∫–∏ –ø—Ä–∏ `go build`

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
go fmt ./...

# –ü—Ä–æ–≤–µ—Ä—å –æ—à–∏–±–∫–∏
go vet ./...

# –ü–æ–ø—Ä–æ–±—É–π —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å
go build ./cmd/server

# –ï—Å–ª–∏ –æ—à–∏–±–∫–∏ - –ø–æ–∫–∞–∂–∏ –ø–æ–ª–Ω—ã–π –≤—ã–≤–æ–¥
go build -v ./cmd/server
```

---

### –ü—Ä–æ–±–ª–µ–º–∞ 7: –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è, –Ω–æ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

**–°–∏–º–ø—Ç–æ–º—ã:**
- –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω, –Ω–æ –∑–∞–ø—Ä–æ—Å—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç
- 404 –æ—à–∏–±–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω:
   ```bash
   # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: "Starting dice service on :9190"
   ```

2. –ü—Ä–æ–≤–µ—Ä—å health endpoint:
   ```bash
   curl http://localhost:9190/healthz
   # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: ok
   ```

3. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ

---

### –ü—Ä–æ–±–ª–µ–º–∞ 8: –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:**
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- 404 –Ω–∞ `/ui/index.html`

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –ø–∞–ø–∫–∞ `web` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
2. –ü—Ä–æ–≤–µ—Ä—å –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–æ–≤:
   ```bash
   dir web\*.html
   ```
3. –£–±–µ–¥–∏—Å—å, —á—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—à—å —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä:
   ```
   http://localhost:9190/ui/index.html
   ```
   –ù–ï `file:///...`

---

## üîß –ü–æ—à–∞–≥–æ–≤–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å Go
```bash
go version
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å –≤–µ—Ä—Å–∏—é Go
```

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É
```bash
# –î–æ–ª–∂–Ω—ã —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å:
dir go.mod
dir cmd\server\main.go
dir web\index.html
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```bash
go mod download
go mod verify
```

### –®–∞–≥ 4: –ü–æ–ø—Ä–æ–±—É–π —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å
```bash
go build ./cmd/server
# –î–æ–ª–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å server.exe –±–µ–∑ –æ—à–∏–±–æ–∫
```

### –®–∞–≥ 5: –ó–∞–ø—É—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä
```bash
go run cmd/server/main.go
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: "Starting dice service on :9190"
```

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
```
http://localhost:9190/healthz
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: ok
```

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

- [ ] Go —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (`go version` —Ä–∞–±–æ—Ç–∞–µ—Ç)
- [ ] –¢–µ—Ä–º–∏–Ω–∞–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
- [ ] –§–∞–π–ª `go.mod` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- [ ] –§–∞–π–ª `cmd/server/main.go` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- [ ] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (`go mod download`)
- [ ] –ö–æ–º–ø–∏–ª—è—Ü–∏—è —É—Å–ø–µ—à–Ω–∞ (`go build ./cmd/server`)
- [ ] –ü–æ—Ä—Ç 9190 —Å–≤–æ–±–æ–¥–µ–Ω
- [ ] –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] Health endpoint –æ—Ç–≤–µ—á–∞–µ—Ç (`/healthz`)

---

## üÜò –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

1. **–°–æ–±–µ—Ä–∏ –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:**
   - –í–µ—Ä—Å–∏—è Go: `go version`
   - –¢–µ–∫—É—â–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: `cd`
   - –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏: `go build -v ./cmd/server`
   - –õ–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ

2. **–ü–æ–ø—Ä–æ–±—É–π –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å:**
   ```bash
   go clean -cache
   go mod download
   go build ./cmd/server
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:**
   - –£–±–µ–¥–∏—Å—å, —á—Ç–æ –º–æ–∂–µ—à—å —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ñ–∞–π–ª—ã –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
   - –ü—Ä–æ–≤–µ—Ä—å –∞–Ω—Ç–∏–≤–∏—Ä—É—Å (–º–æ–∂–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å)

---

## ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –∑–∞–ø—É—Å–∫–∞

```
1. –û—Ç–∫—Ä—ã—Ç—å —Ç–µ—Ä–º–∏–Ω–∞–ª –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
   ‚Üì
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Go: go version
   ‚Üì
3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: go mod download
   ‚Üì
4. –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å: go build ./cmd/server
   ‚Üì
5. –ó–∞–ø—É—Å—Ç–∏—Ç—å: go run cmd/server/main.go
   ‚Üì
6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: http://localhost:9190/healthz
   ‚Üì
7. –û—Ç–∫—Ä—ã—Ç—å UI: http://localhost:9190/ui/index.html
```

---

**–ó–∞–ø—É—Å—Ç–∏ `diagnose-server.bat` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏!**

